---
import { Image } from 'astro:assets';
import BaseLayout from '../layouts/BaseLayout.astro';

const imageModules = import.meta.glob('../images/film/*.jpg', { eager: true });
const images = Object.entries(imageModules)
  .map(([path, module]) => ({ originalPath: path, ...module }))
  .sort((a, b) => {
    const getNumber = (path) => parseInt(path.match(/(\d+)\.jpg$/)[1]);
    return getNumber(a.originalPath) - getNumber(b.originalPath);
  });
---

<BaseLayout
  title="Film | discontinuity"
  description="Film photography by discontinuity. 35mm, 120, and large format analog work."
  currentPage="film"
  showLightbox={true}
>
  <header class="page-header film">
    <h1>FILM</h1>
    <p>35mm / 120 / Large Format</p>
  </header>

  <section class="info-block">
    <p>Shooting on analog film is a practice in patience and trust. There is beauty in the grain, the unpredictable light leaks, and the quiet ritual of the chemical process. Each frame is finite&mdash;no chimping, no do-overs. You learn to see before you press the shutter.</p>
  </section>

  <section class="gallery" aria-label="Film photography gallery">
    <div class="gallery-grid">
      {images.map((img, i) => (
        <div class="gallery-item" tabindex="0">
          <Image src={img.default} alt={`Film Photo ${String(i + 1).padStart(2, '0')}`} loading="lazy" />
          <div class="caption">FILM {String(i + 1).padStart(2, '0')}</div>
        </div>
      ))}
    </div>
  </section>
</BaseLayout>
